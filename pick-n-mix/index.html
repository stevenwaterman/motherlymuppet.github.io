<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta
			name="description"
			content="I'm a software developer, technical coach, over-analyser. This is where I do those things. Mostly over-analysing."
		/>
		<link rel="icon" href="/favicon.png" />
		<link rel="stylesheet" href="/global.css" />
		<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
		<meta name="apple-mobile-web-app-capable" content="yes" />
		<meta http-equiv="content-security-policy" content=""><title>Typescript Pick &#39;n&#39; Mix</title><meta name="description" content="Interface Segregation is an important part of writing clean and maintainable code. In most languages, it requires constant maintenance and naturally degrades over time. In TypeScript, we can just Pick the good bits."><link rel="alternate" type="application/rss+xml" href="https://stevenwaterman.uk/rss.xml" title="Steven Waterman's Blog"><link rel="canonical" href="https://stevenwaterman.uk/pick-n-mix"><meta property="og:title" content="Typescript Pick &#39;n&#39; Mix"><meta property="og:description" content="Interface Segregation is an important part of writing clean and maintainable code. In most languages, it requires constant maintenance and naturally degrades over time. In TypeScript, we can just Pick the good bits."><meta property="og:image" content="https://stevenwaterman.uk/assets/blog/pick-n-mix/header.png"><meta property="og:type" content="article"><meta property="og:site_name" content="Steven Waterman"><meta property="og:url" content="https://stevenwaterman.uk/pick-n-mix"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@SteWaterman"><meta name="twitter:image" content="https://stevenwaterman.uk/assets/blog/pick-n-mix/header.png"><meta name="twitter:creator" content="@SteWaterman">
	<link rel="stylesheet" href="/_app/assets/vendor-ec9510ad.css">
	<link rel="stylesheet" href="/_app/assets/YoutubeEmbed.svelte_svelte_type_style_lang-01364c42.css">
	<link rel="stylesheet" href="/_app/assets/BlogPost-27f41e79.css">
	<link rel="stylesheet" href="/_app/assets/Template-8f63f35a.css">
	<link rel="stylesheet" href="/_app/assets/Snippet-1ad9e017.css">
	</head>
	<body>
		






<div class="gradient svelte-1thle15"><div class="panX svelte-1atbztl"><div class="panY svelte-1atbztl"><div class="gradient svelte-1atbztl"></div></div></div></div>

<nav class="svelte-1nxg8xt"><a class="logoLink svelte-1nxg8xt" href="/"><img class="logo svelte-1nxg8xt" src="/assets/logoWhite.svg" alt="Logo">
		<span class="logoText svelte-1nxg8xt">SW</span></a>

	<div class="burgerMenuContainer svelte-1nxg8xt"><span tabindex="0" class="burgerMenuOpen svelte-1nxg8xt"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 448 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(224 256)" transform-origin="112 0"><g transform="translate(0,0) scale(1,1)"><path d="M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z" fill="currentColor" transform="translate(-224 -256)"></path></g></g></svg></span>

		<ul class="menu svelte-1nxg8xt"><li class="svelte-1nxg8xt"><span class="label svelte-101pjyx"><a class="topLink svelte-101pjyx" href="/">Blog</a>
  </span></li>

			<li class="svelte-1nxg8xt"><span class="label svelte-101pjyx"><a class="topLink svelte-101pjyx" href="/assets/cv.pdf">CV</a>
  </span></li>

			<li class="svelte-1nxg8xt"><span class="label svelte-101pjyx"><a class="topLink svelte-101pjyx">Socials</a>
  <div class="menu svelte-101pjyx"><div class="menu-arrow svelte-101pjyx"><div class="menu-arrow-fill svelte-101pjyx"></div></div>
      <div class="menu-content svelte-101pjyx"><ul class="svelte-101pjyx"><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://twitter.com/SteWaterman/">Twitter</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://github.com/StevenWaterman/">GitHub</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://www.linkedin.com/in/steven-waterman/">LinkedIn</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://twitch.tv/SteWaterman/">Twitch</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="mailto:website@stevenwaterman.uk">Email</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://calendly.com/stewaterman/30min">Calendly</a>
            </li></ul></div></div></span></li>

			<li class="svelte-1nxg8xt"><span class="label svelte-101pjyx"><a class="topLink svelte-101pjyx" href="/#community">Projects</a>
  <div class="menu svelte-101pjyx"><div class="menu-arrow svelte-101pjyx"><div class="menu-arrow-fill svelte-101pjyx"></div></div>
      <div class="menu-content svelte-101pjyx"><ul class="svelte-101pjyx"><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://tunescape07.com">TuneScape</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://stevenwaterman.uk/Balance/">Balance Scores</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://lexoral.com">Lexoral</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://stevenwaterman.uk/musetree/">MuseTree</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://stevenwaterman.uk/NoTimeToStalk">No Time to Stalk</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://github.com/stevenwaterman/narration.studio">Narration.Studio</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://stevenwaterman.uk/Spiro/">Spiro</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://linktr.ee/prevoid_art">Art</a>
            </li><li class="menuEntry svelte-101pjyx"><a class="menuLink svelte-101pjyx" href="https://soundcloud.com/user-872603169">Music</a>
            </li></ul></div></div></span></li>

			<li class="chat svelte-1nxg8xt"><div class="container svelte-1atmfra">
  <link href="https://assets.calendly.com/assets/external/widget.css" rel="stylesheet">
  <script src="https://assets.calendly.com/assets/external/widget.js" type="text/javascript" async></script>
  <button onclick="Calendly.initPopupWidget({url: &#39;https://calendly.com/stewaterman/30min&#39;});return false;" class="svelte-1atmfra">Let&#39;sÂ Chat<span class="arrow svelte-1atmfra">&gt;</span></button>
  </div></li></ul></div>
</nav>

<div class="column svelte-1thle15"><div class="grid svelte-1quqrs0"><div class="textContainer svelte-11sshxl" style=""><article><a href="/assets/blog/pick-n-mix/header.png"><img class="headerImage svelte-1quqrs0" src="/assets/blog/pick-n-mix/header.png" style="object-fit: contain; object-position: center;" alt="Header"></a>
				<div class="padded svelte-1quqrs0"><div class="metadata svelte-1quqrs0"><p class="type svelte-1quqrs0">technical</p>
						<p class="date svelte-1quqrs0">Published <time>2020-01-29</time></p>
						<p class="author svelte-1quqrs0">By Steven Waterman</p></div>

					<h1 class="svelte-1quqrs0">Typescript Pick &#39;n&#39; Mix</h1>

					<div class="topSection svelte-1quqrs0"><div class="left"><summary class="svelte-1quqrs0">Interface Segregation is an important part of writing clean and maintainable code. In most languages, it requires constant maintenance and naturally degrades over time. In TypeScript, we can just Pick the good bits.</summary>

							<p class="original svelte-1quqrs0">Originally posted on <a href="https://blog.scottlogic.com/2020/01/29/typescript-pick-n-mix.html">the Scott Logic blog</a></p>

							</div>

						</div>

					<hr class="svelte-1quqrs0">

					<p><em>In this article, I discuss how the <code>Pick</code> utility type can help satisfy the Interface Segregation Principle in TypeScript</em></p>
  
  <p>When an interface declares many unrelated methods, developers must implement functionality that&#39;s never used.
    This wastes time, makes code less readable, and can lead to runtime type errors after &#39;implementing&#39; the interface with method stubs.
    The <a href="https://en.wikipedia.org/wiki/Interface_segregation_principle">Interface Segregation principle</a> (one of the 5 <a href="https://en.wikipedia.org/wiki/SOLID">SOLID</a> principles) warns against this.
  </p>

  <p>It states:
  </p>
  
  <blockquote>No client should be forced to depend on methods it does not use
  </blockquote>

  <p>That&#39;s the theory, anyway.
    What does interface segregation look like in practice?
  </p>

  <h2>Defining the Problem</h2>
  
  <p>I will be using the same example throughout this post.
    It is a (fairly unrealistic) implementation of a list of strings.
    All code is available <a href="https://github.com/stevenwaterman/typescript-pick-n-mix">on GitHub</a>.
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Example</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 37 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> elem The element to add</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the new element</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the element to remove</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="code hidden svelte-19djgjm">   * Returns the index of an element, or &lt;code&gt;null&lt;/code&gt; if it is not in the list</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">16</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">16</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">17</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">17</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">18</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">18</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">19</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">19</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: StringList, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">20</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">20</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">21</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">21</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">22</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">22</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">23</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">23</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: StringList, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">24</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">24</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">25</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">25</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">26</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">26</div>
        <div class="code hidden svelte-19djgjm">  list.<span class="hljs-title function_">add</span>(newElem, idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">27</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">27</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">28</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">28</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">29</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">29</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">30</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">30</div>
        <div class="code hidden svelte-19djgjm">  list: StringList,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">31</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">31</div>
        <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">32</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">32</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">33</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">33</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">34</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">34</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">35</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">35</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">36</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">36</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">37</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">37</div>
        <div class="code hidden svelte-19djgjm">}</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> elem The element to add</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the new element</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm">   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the element to remove</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-comment">/**</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="code hidden svelte-19djgjm">   * Returns the index of an element, or &lt;code&gt;null&lt;/code&gt; if it is not in the list</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="code hidden svelte-19djgjm">   */</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">16</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">16</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">17</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">17</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">18</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">18</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">19</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">19</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: StringList, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">20</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">20</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">21</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">21</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">22</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">22</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">23</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">23</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: StringList, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">24</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">24</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">25</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">25</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">26</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">26</div>
  <div class="code hidden svelte-19djgjm">  list.<span class="hljs-title function_">add</span>(newElem, idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">27</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">27</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">28</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">28</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">29</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">29</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">30</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">30</div>
  <div class="code hidden svelte-19djgjm">  list: StringList,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">31</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">31</div>
  <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">32</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">32</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">33</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">33</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">34</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">34</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">35</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">35</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">36</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">36</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">37</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">37</div>
  <div class="code hidden svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {
  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> elem The element to add
   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the new element
   */</span>
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);

  <span class="hljs-comment">/**
   * <span class="hljs-doctag">@param</span> idx 0-indexed, the index of the element to remove
   */</span>
  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;

  <span class="hljs-comment">/**
   * Returns the index of an element, or &lt;code&gt;null&lt;/code&gt; if it is not in the list
   */</span>
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: StringList, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: StringList, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);
  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  list.<span class="hljs-title function_">add</span>(newElem, idx);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params">
  list: StringList,
  oldElem: <span class="hljs-built_in">string</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);
  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);
}</code>
</figure>

  <p>In theory, there should be nothing stopping us using the <code>contains</code> function on an immutable (read-only) list.
    It only uses the <code>indexOf</code> function and wouldn&#39;t be affected by the missing <code>add</code> and <code>remove</code> methods.
    In practice, the TypeScript compiler won&#39;t like that.
  </p>
  
  <p>Given the immutable list implementation:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">List</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 8 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">};</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">};</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];
<span class="hljs-keyword">const</span> list = {
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {
    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);
    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> idx;
  },
};</code>
</figure>

  <p>We can&#39;t call <code>contains(list, &quot;friend&quot;)</code> because <code>list</code> does not implement the <code>add</code> or <code>remove</code> methods on <code>StringList</code>.
    In JavaScript, I could call <code>contains</code> without any problems because I know it only uses the <code>indexOf</code> method.
    In contrast, the TypeScript compiler follows the method signature, which requires that <code>list</code> implements all of <code>StringList</code> - including <code>add</code> and <code>remove</code>.
  </p>

  <p>One quick and hacky solution is to use a cast, calling <code>contains(list as StringList, &quot;friend&quot;)</code>.
    This just disables the type checking, meaning we can&#39;t guarantee that <code>contains</code> doesn&#39;t call <code>add</code> or <code>remove</code>.
    Why even use TypeScript at that point?
  </p>
  
  <p>Another option is to implement the extra methods with stubs:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Stubs</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 14 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="code hidden svelte-19djgjm">};</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="code hidden svelte-19djgjm">};</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];
<span class="hljs-keyword">const</span> list = {
  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);
  },
  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">&quot;not implemented&quot;</span>);
  },
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {
    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);
    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> idx;
  },
};</code>
</figure>

  <p>This is even worse, because now <code>contains(list, &quot;friend&quot;)</code> works but the compiler also allows <code>replaceElement(list, &quot;hi&quot;, &quot;hello&quot;)</code>.
    Since <code>replaceElement</code> uses <code>add</code> and <code>remove</code>, this will cause a runtime error.
  </p>

  <p>The only remaining option is to actually implement the functionality:
  </p>

  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Functional</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 15 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">    listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>, elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> deleted = listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> deleted.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="code hidden svelte-19djgjm">};</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">const</span> list = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">    listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>, elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> deleted = listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> deleted.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm">    <span class="hljs-keyword">return</span> idx;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="code hidden svelte-19djgjm">  },</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="code hidden svelte-19djgjm">};</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">const</span> listValues = [<span class="hljs-string">&quot;hi&quot;</span>, <span class="hljs-string">&quot;there&quot;</span>, <span class="hljs-string">&quot;friend&quot;</span>];
<span class="hljs-keyword">const</span> list = {
  <span class="hljs-title function_">add</span>(<span class="hljs-params">elem: <span class="hljs-built_in">string</span>, idx: <span class="hljs-built_in">number</span></span>) {
    listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>, elem);
  },
  <span class="hljs-title function_">remove</span>(<span class="hljs-params">idx: <span class="hljs-built_in">number</span></span>) {
    <span class="hljs-keyword">const</span> deleted = listValues.<span class="hljs-title function_">splice</span>(idx, <span class="hljs-number">1</span>);
    <span class="hljs-keyword">return</span> deleted.<span class="hljs-property">length</span> &gt; <span class="hljs-number">0</span>;
  },
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span> {
    <span class="hljs-keyword">const</span> idx = listValues.<span class="hljs-title function_">indexOf</span>(elem);
    <span class="hljs-keyword">if</span> (idx === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">return</span> idx;
  },
};</code>
</figure>

  <p>But we only wanted to call <code>contains(list, &quot;friend&quot;)</code> - now we had to implement 2 methods for no reason.
    That&#39;s what the Interface Segregation principle was warning us about!
  </p>

  <p>Ok, so we know it&#39;s bad.
    We&#39;ve had enough of these hacky &#39;solutions&#39; - what are our options for a real fix?
  </p>

  <h2>Accepted Solutions</h2>
  
  <p>There are two ways that the Interface Segregation Principle is normally satisfied.
    Both involve dividing our large interface into multiple smaller ones.
  </p>
  
  <h3>Role Interfaces</h3>

  <p>The first option is to create a new interface for each <em>role</em> that can be filled by our interface.
    Each of these new interfaces is called a <a href="https://martinfowler.com/bliki/RoleInterface.html"><em>Role Interface</em></a>.
    In our case, the <code>StringList</code> interface fills two roles:
  </p>

  <ul><li><strong>Searching</strong> - finding elements in the list</li>
    <li><strong>Mutation</strong> - editing the contents of the list</li></ul>
  
  <p>We should extract these roles into their own interfaces.
    The <code>replaceElement</code> function uses both roles, so we still need an interface with all 3 methods.
    That means we now have 3 interfaces:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Interfaces</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 14 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Searchable</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Mutable</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="code hidden svelte-19djgjm">}</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Searchable</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Mutable</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="code hidden svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">Searchable</span> {
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">Mutable</span> {
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);
  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;
}

<span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);
  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;
}</code>
</figure>

  <p>And our methods can be edited to specify which role they use.
    The <code>contains</code> method searches the list, and the <code>setElement</code> method mutates the list.
    The <code>replaceElement</code> method does both.
  </p>

  <p>Their method signatures now look like this:
  </p>

  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Method Signatures</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 9 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Searchable, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: Mutable, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  list: StringList,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Searchable, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: Mutable, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  list: StringList,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Searchable, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">list: Mutable, idx: <span class="hljs-built_in">number</span>, newElem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params">
  list: StringList,
  oldElem: <span class="hljs-built_in">string</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span>;</code>
</figure>

  <p>Using our immutable list from before, <code>contains(list, &quot;friend&quot;)</code> works fine.
    More importantly, <code>replaceElement(list, &quot;hi&quot;, &quot;hello&quot;)</code> correctly causes a compiler error.
    If we implemented <code>add</code> and <code>remove</code>, we could call <code>setElement</code> and <code>replaceElement</code>.
    This clearly satisfies the Interface Segregation Principle.
  </p>

  <p>It wasn&#39;t easy though - defining the boundary of each role is complex and gets harder with bigger interfaces.
    It can be difficult to use Role Interfaces and they need adjusting when functionality is added.
    Also, it is hard to slowly refactor an existing codebase to use Role Interfaces, as most of the effort happens at first when breaking down the large interfaces.
  </p>

  <p>There are other downsides too - any documentation on <code>StringList</code> needs to be copied to <code>Searchable</code> and <code>Mutable</code>.
    These are likely to get out-of-sync, and we don&#39;t have a single source of truth, since each method is defined in multiple places.
  </p>

  <h3>Single-Method Interfaces</h3>
  
  <p>Taking Role Interfaces to an extreme reveals a second option.
    We could define each method in its own Single-Method Interface (SMI).
    We can then combine interfaces using <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#intersection-types"><em>intersection types</em></a>.
  </p>

  <p>We don&#39;t need the <code>StringList</code> interface anymore, so we can remove than and replace it with single-method interfaces:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Single-method Interfaces</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 9 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_add {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_remove {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_indexOf {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm">}</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_add {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_remove {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">interface</span> I_indexOf {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">interface</span> I_add {
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);
}
<span class="hljs-keyword">interface</span> I_remove {
  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;
}
<span class="hljs-keyword">interface</span> I_indexOf {
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;
}</code>
</figure>

  <p>Then we rewrite our methods so that any parameter with type <code>StringList</code> now specifies which methods it uses.
    The new method signatures are:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">SMI Signuatures</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 13 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: I_indexOf, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">  list: I_add &amp; I_remove,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">  idx: <span class="hljs-built_in">number</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm">  list: I_indexOf &amp; I_add &amp; I_remove,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: I_indexOf, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">  list: I_add &amp; I_remove,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">  idx: <span class="hljs-built_in">number</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm">  list: I_indexOf &amp; I_add &amp; I_remove,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: I_indexOf, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">
  list: I_add &amp; I_remove,
  idx: <span class="hljs-built_in">number</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span>;

<span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params">
  list: I_indexOf &amp; I_add &amp; I_remove,
  oldElem: <span class="hljs-built_in">string</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span>;</code>
</figure>

  <p>As before, this correctly allows <code>contains</code> but not <code>replaceElement</code> when our list has only implemented <code>indexOf</code>.
    Implementing <code>add</code> and <code>remove</code> would satisfy <code>I_add</code> and <code>I_remove</code>, allowing us to call <code>setElement</code> and <code>replaceElement</code>.
  </p>

  <p>It can be confusing at first, and you end up with a lot of interfaces.
    It&#39;s also a pain to implement on a legacy project.
    Most of the refactoring work happens up-front, deleting and recreating any interfaces.
    On the plus side, we keep our single source of truth for each method, and we can move the documentation from <code>StringList</code> to the SMIs.
  </p>

  <p>Both solutions are workable, and in many other languages there is no alternative.
    Thankfully, TypeScript provides a third option.
  </p>
  
  <h2>Introducing Pick</h2>
  
  <p>In TypeScript, <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#picktype-keys"><code>Pick</code></a> is a built-in utility type.
    Given a complex type, we can select some of its functionality and ignore the rest:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Pick Example</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 7 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">incrementAge</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm">};</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ThingWithAge</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Person</span>, <span class="hljs-string">&quot;age&quot;</span> | <span class="hljs-string">&quot;incrementAge&quot;</span>&gt;;</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> = {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-attr">incrementAge</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm">};</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ThingWithAge</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Person</span>, <span class="hljs-string">&quot;age&quot;</span> | <span class="hljs-string">&quot;incrementAge&quot;</span>&gt;;</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Person</span> = {
  <span class="hljs-attr">name</span>: <span class="hljs-built_in">string</span>;
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">incrementAge</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
};

<span class="hljs-keyword">type</span> <span class="hljs-title class_">ThingWithAge</span> = <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">Person</span>, <span class="hljs-string">&quot;age&quot;</span> | <span class="hljs-string">&quot;incrementAge&quot;</span>&gt;;</code>
</figure>

  <p>The <code>ThingWithAge</code> type selects the <code>age</code> and <code>incrementAge</code> properties from the <code>Person</code> type.
    The resulting type is:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Equivalent to Pick</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true">

<div class="fromLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code same svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ThingWithAge</span> = {</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-attr">incrementAge</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code same svelte-19djgjm">};</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">type</span> <span class="hljs-title class_">ThingWithAge</span> = {
  <span class="hljs-attr">age</span>: <span class="hljs-built_in">number</span>;
  <span class="hljs-attr">incrementAge</span>: <span class="hljs-function">() =&gt;</span> <span class="hljs-built_in">void</span>;
};</code>
</figure>
  
  <figure>
    <img src="/assets/blog/pick-n-mix/header.png" title="Pick extracts some properties from a type" alt="This diagram doesn't really add anything to be honest, I just needed a picture for the article header"></figure>

  <p>The strings are concerning, but it&#39;s completely type-safe.
    The compiler won&#39;t let you use <code>Pick&lt;Person, &quot;nonExistentField&quot;&gt;</code>, as <code>nonExistentField</code> is not a property on <code>Person</code>.
    This is thanks to <a href="https://www.typescriptlang.org/docs/handbook/advanced-types.html#string-literal-types">String Literal types</a> - a huge topic in and of itself.
  </p>

  <h2>Interface Segregation with Pick</h2>
  
  <p>We can use <code>Pick</code> to select parts of our large <code>StringList</code> interface.
    Our interface is the same as it was in the first example:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Interface</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true">

<div class="fromLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code same svelte-19djgjm"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code same svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">interface</span> <span class="hljs-title class_">StringList</span> {
  <span class="hljs-title function_">add</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>, <span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>);
  <span class="hljs-title function_">remove</span>(<span class="hljs-attr">idx</span>: <span class="hljs-built_in">number</span>): <span class="hljs-built_in">boolean</span>;
  <span class="hljs-title function_">indexOf</span>(<span class="hljs-attr">elem</span>: <span class="hljs-built_in">string</span>): <span class="hljs-built_in">number</span> | <span class="hljs-literal">null</span>;
}</code>
</figure>
  
  <p>We then edit our utility functions so that their <code>list</code> parameters use <code>Pick</code> to choose the relevant parts of <code>StringList</code>.
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Utility Methods</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 23 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span>&gt;, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm">  list: Pick&lt;StringList, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm">  idx: <span class="hljs-built_in">number</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
        <div class="code hidden svelte-19djgjm">  list.<span class="hljs-title function_">add</span>(newElem, idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
        <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">16</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">16</div>
        <div class="code hidden svelte-19djgjm">  list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span> | <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">17</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">17</div>
        <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">18</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">18</div>
        <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">19</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">19</div>
        <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">20</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">20</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">21</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">21</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">22</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">22</div>
        <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">23</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">23</div>
        <div class="code hidden svelte-19djgjm">}</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span>&gt;, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm">  list: Pick&lt;StringList, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm">  idx: <span class="hljs-built_in">number</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">9</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">10</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">11</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">12</div>
  <div class="code hidden svelte-19djgjm">  list.<span class="hljs-title function_">add</span>(newElem, idx);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">13</div>
  <div class="code hidden svelte-19djgjm">}</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">14</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">15</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">16</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">16</div>
  <div class="code hidden svelte-19djgjm">  list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span> | <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">17</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">17</div>
  <div class="code hidden svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">18</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">18</div>
  <div class="code hidden svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">19</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">19</div>
  <div class="code hidden svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span> {</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">20</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">20</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">21</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">21</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">22</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">22</div>
  <div class="code hidden svelte-19djgjm">  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">23</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">23</div>
  <div class="code hidden svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">function</span> <span class="hljs-title function_">contains</span>(<span class="hljs-params">list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span>&gt;, elem: <span class="hljs-built_in">string</span></span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">return</span> list.<span class="hljs-title function_">indexOf</span>(elem) !== <span class="hljs-literal">null</span>;
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">setElement</span>(<span class="hljs-params">
  list: Pick&lt;StringList, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,
  idx: <span class="hljs-built_in">number</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> removed = list.<span class="hljs-title function_">remove</span>(idx);
  <span class="hljs-keyword">if</span> (!removed) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  list.<span class="hljs-title function_">add</span>(newElem, idx);
}

<span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params">
  list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span> | <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;,
  oldElem: <span class="hljs-built_in">string</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span> {
  <span class="hljs-keyword">const</span> idx = list.<span class="hljs-title function_">indexOf</span>(oldElem);
  <span class="hljs-keyword">if</span> (idx === <span class="hljs-literal">null</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
  <span class="hljs-keyword">return</span> <span class="hljs-title function_">setElement</span>(list, idx, newElem);
}</code>
</figure>

  <p>Again, this solves our problem by allowing <code>contains</code> and not <code>replaceElement</code>.
    We also don&#39;t need to write or modify any interfaces, allowing bad codebases to be refactored on a per-function basis.
    Even better, our documentation works out of the box - it is automatically exposed by <code>Pick</code>.
  </p>

  <figure><img src="/assets/blog/pick-n-mix/docs.png" title="It's like magic" alt="The documentation automatically propagates from StringList to Pick"></figure>
  
  <p>You may think it strange that in <code>replaceElement</code> we used the type <code>Pick&lt;StringList, &quot;indexOf&quot; | &quot;add&quot; | &quot;remove&quot;&gt;</code>.
    Since <code>StringList</code> only has those 3 methods, it&#39;s equivalent to just using <code>StringList</code> as the type for <code>list</code>.
    Listing the methods is best practice, even when you must list all of them.
    That way, when more methods are added to <code>StringList</code>, we don&#39;t automatically require them in <code>replaceElement</code>.
  </p>

  <p>Another point of confusion around <code>replaceElement</code> is that we require the <code>add</code> and <code>remove</code> methods on <code>list</code> even though we don&#39;t explicitly use them.
    We need those methods because they are required by <code>setElement</code>.
    This can be a pain, as it requires looking at the definition for every method used.
    Also, if <code>setElement</code> added another method to the type for <code>list</code>, every function that used <code>setElement</code> would also have to be updated.
  </p>

  <p>There is a solution to this problem, but it might get confusing.
    First, we need to define our own custom utility type:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">A Solution</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true">

<div class="fromLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code same svelte-19djgjm"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Parameter</span>&lt;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code same svelte-19djgjm">  T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span>,</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code same svelte-19djgjm">  idx <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span></div><div class="fromLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code same svelte-19djgjm">&gt; = <span class="hljs-title class_">Parameters</span>&lt;T&gt;[idx];</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">type</span> <span class="hljs-title class_">Parameter</span>&lt;
  T <span class="hljs-keyword">extends</span> (...<span class="hljs-attr">args</span>: <span class="hljs-built_in">any</span>) =&gt; <span class="hljs-built_in">any</span>,
  idx <span class="hljs-keyword">extends</span> <span class="hljs-built_in">number</span>
&gt; = <span class="hljs-title class_">Parameters</span>&lt;T&gt;[idx];</code>
</figure>
  
  <p>So, what does that do?
  </p>

  <p>Our <code>Parameter</code> type depends on <code>Parameters</code>, <a href="https://www.typescriptlang.org/docs/handbook/utility-types.html#parameterstype">a base TypeScript utility type</a>.
    To understand our type, we first need to understand <code>Parameters</code>.
    It&#39;s hard to describe in words, but easy to demonstrate.
  </p>

  <p>We have a function <code>function myFunc(a: string, b: number): boolean</code>.
    Its type is <code>(a: string, b: number) =&gt; boolean</code>.
    <code>Parameters&lt;typeof myFunc&gt;</code> returns <code>[string, number]</code> - a tuple of the parameter types for <code>myFunc</code>.
    If you&#39;re still confused, click the link above for more examples.
  </p>

  <p>Our utility type simply extracts one element of that tuple.
    <code>Parameter&lt;typeof myFunc, 0&gt;</code> is the same as <code>Parameters<typeof myfunc>[0]</typeof></code>, which resolves to <code>string</code>.
    We can use this utility type in the definition of <code>replaceElement</code>:
  </p>

  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Using Utility</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true">

<div class="fromLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code same svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params"></div><div class="fromLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code same svelte-19djgjm">  list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span>&gt; &amp; Parameter&lt;<span class="hljs-keyword">typeof</span> setElement, <span class="hljs-number">0</span>&gt;,</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code same svelte-19djgjm">  oldElem: <span class="hljs-built_in">string</span>,</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code same svelte-19djgjm">  newElem: <span class="hljs-built_in">string</span></div><div class="fromLine same svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code same svelte-19djgjm"></span>): <span class="hljs-built_in">boolean</span>;</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">function</span> <span class="hljs-title function_">replaceElement</span>(<span class="hljs-params">
  list: Pick&lt;StringList, <span class="hljs-string">&quot;indexOf&quot;</span>&gt; &amp; Parameter&lt;<span class="hljs-keyword">typeof</span> setElement, <span class="hljs-number">0</span>&gt;,
  oldElem: <span class="hljs-built_in">string</span>,
  newElem: <span class="hljs-built_in">string</span>
</span>): <span class="hljs-built_in">boolean</span>;</code>
</figure>
  
  <p>Essentially, this says:</p>
  
  <blockblockquote><code>replaceElement</code> accepts a parameter called list.
    I&#39;m going to call the <code>indexOf</code> method on it, and I&#39;m going to pass it as the first argument to <code>setElement</code>.
    Make sure it can also do whatever <code>setElement</code> needs.
  </blockblockquote>
 
  <h2>Chaining</h2>
  
  <p>One difficulty with tightening our function parameters is the ability to do method chaining.
    For instance, in the first example, we could write a method:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Chaining</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true">

<div class="fromLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code same svelte-19djgjm"><span class="hljs-keyword">function</span> <span class="hljs-title function_">chaining</span>(<span class="hljs-params">list: StringList</span>): <span class="hljs-title class_">StringList</span> {</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-title function_">setElement</span>(list, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;example&quot;</span>);</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code same svelte-19djgjm">  <span class="hljs-keyword">return</span> list;</div><div class="fromLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine same svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code same svelte-19djgjm">}</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-keyword">function</span> <span class="hljs-title function_">chaining</span>(<span class="hljs-params">list: StringList</span>): <span class="hljs-title class_">StringList</span> {
  <span class="hljs-title function_">setElement</span>(list, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;example&quot;</span>);
  <span class="hljs-keyword">return</span> list;
}</code>
</figure>
  
  <p>And could use it as <code>chaining(list).indexOf(&quot;friend&quot;)</code>.
    It&#39;s not that simple when using segregated interfaces:
  </p>

  <p>If we declare <code>function chaining(list: Mutable): Mutable</code>, then we can&#39;t call <code>chaining(list).indexOf(&quot;friend&quot;)</code>.
    <code>chaining(list)</code> outputs <code>Mutable</code>, even if the <code>list</code> parameter was actually a subtype of <code>Mutable</code>.
    Since <code>Mutable</code> does not provide a <code>indexOf</code> method, we can&#39;t call it.
    The same issue occurs with Single-Method Interfaces and <code>Pick</code>.
  </p>

  <p>Instead, we have to use generics:
  </p>
  
  <figure class="container wide snippet svelte-1omgi29"><h2 class="name svelte-1omgi29">Chaining with Generics</h2>

	

	<code class="visualCode svelte-12l7s60" aria-hidden="true"><details class="svelte-19djgjm"><summary class="svelte-19djgjm">&lt;Show 8 identical lines&gt;</summary>
    <div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Role Interfaces</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mutable</span>&gt;(<span class="hljs-attr">list</span>: T): T;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Single Method Interfaces</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> I_add &amp; I_remove&gt;(<span class="hljs-attr">list</span>: T): T;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
        <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Pick</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
        <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">StringList</span>, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;&gt;(<span class="hljs-attr">list</span>: T): T;</div></details>

<div class="fromLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">1</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Role Interfaces</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">2</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mutable</span>&gt;(<span class="hljs-attr">list</span>: T): T;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">3</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">4</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Single Method Interfaces</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">5</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> I_add &amp; I_remove&gt;(<span class="hljs-attr">list</span>: T): T;</div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">6</div>
  <div class="code hidden svelte-19djgjm"> </div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">7</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-comment">// Pick</span></div><div class="fromLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="toLine hidden svelte-19djgjm" aria-hidden="true">8</div>
  <div class="code hidden svelte-19djgjm"><span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">StringList</span>, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;&gt;(<span class="hljs-attr">list</span>: T): T;</div></code>

<code class="sr-code svelte-12l7s60"><span class="hljs-comment">// Role Interfaces</span>
<span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Mutable</span>&gt;(<span class="hljs-attr">list</span>: T): T;

<span class="hljs-comment">// Single Method Interfaces</span>
<span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> I_add &amp; I_remove&gt;(<span class="hljs-attr">list</span>: T): T;

<span class="hljs-comment">// Pick</span>
<span class="hljs-keyword">function</span> chaining&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">Pick</span>&lt;<span class="hljs-title class_">StringList</span>, <span class="hljs-string">&quot;add&quot;</span> | <span class="hljs-string">&quot;remove&quot;</span>&gt;&gt;(<span class="hljs-attr">list</span>: T): T;</code>
</figure>
  
  <p>Now the output of the <code>chaining</code> method is the same as the type of the <code>list</code> parameter.
    If <code>list</code> implements <code>indexOf</code>, we can do <code>chaining(list).indexOf(&quot;friend&quot;)</code>.
  </p>
  
  <h2>Conclusion</h2>
  
  <p>Interface Segregation is an important part of clean code and is essential for long-term maintainability of object-oriented code.
    With TypeScript, it&#39;s simple to use <code>Pick</code> to divide up a large interface.
    It&#39;s interoperable with old code, and once you understand how it works, there&#39;s no downside.
    Do yourself a favour and start using <code>Pick</code> today.
  </p>

					</div></article></div>

		

<div class="textContainer svelte-11sshxl" style="position: sticky; top: 1em;"><div class="authorCol svelte-1ghjldr"><div class="details svelte-1ghjldr"><img src="/assets/blog/authors/SteWaterman.jpg" alt="Steven Waterman" class="svelte-1ghjldr">
			<h2 class="name svelte-1ghjldr">Steven Waterman</h2>
			<p class="job svelte-1ghjldr">Over-thinker</p>
			</div>

		

		<ul class="links svelte-1ghjldr"><li class="svelte-1ghjldr"><a href="mailto:blog@stevenwaterman.uk" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">blog@stevenwaterman.uk</span></a></li>

			<li class="svelte-1ghjldr"><a href="https://calendly.com/stewaterman/30min" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 448 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(224 256)" transform-origin="112 0"><g transform="translate(0,0) scale(1,1)"><path d="M436 160H12c-6.627 0-12-5.373-12-12v-36c0-26.51 21.49-48 48-48h48V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h128V12c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v52h48c26.51 0 48 21.49 48 48v36c0 6.627-5.373 12-12 12zM12 192h424c6.627 0 12 5.373 12 12v260c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V204c0-6.627 5.373-12 12-12zm333.296 95.947l-28.169-28.398c-4.667-4.705-12.265-4.736-16.97-.068L194.12 364.665l-45.98-46.352c-4.667-4.705-12.266-4.736-16.971-.068l-28.397 28.17c-4.705 4.667-4.736 12.265-.068 16.97l82.601 83.269c4.667 4.705 12.265 4.736 16.97.068l142.953-141.805c4.705-4.667 4.736-12.265.068-16.97z" fill="currentColor" transform="translate(-224 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">Office Hours</span></a></li>

			<li class="svelte-1ghjldr"><a href="https://github.com/StevenWaterman/" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 496 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(248 256)" transform-origin="124 0"><g transform="translate(0,0) scale(1,1)"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z" fill="currentColor" transform="translate(-248 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">@StevenWaterman</span></a></li>

			<li class="svelte-1ghjldr"><a href="https://twitter.com/SteWaterman/" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">@SteWaterman</span></a></li>

			<li class="svelte-1ghjldr"><a href="https://twitch.tv/SteWaterman/" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 512 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(256 256)" transform-origin="128 0"><g transform="translate(0,0) scale(1,1)"><path d="M391.17,103.47H352.54v109.7h38.63ZM285,103H246.37V212.75H285ZM120.83,0,24.31,91.42V420.58H140.14V512l96.53-91.42h77.25L487.69,256V0ZM449.07,237.75l-77.22,73.12H294.61l-67.6,64v-64H140.14V36.58H449.07Z" fill="currentColor" transform="translate(-256 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">@SteWaterman</span></a></li>

			<li class="svelte-1ghjldr"><a href="https://www.linkedin.com/in/steven-waterman/" class="svelte-1ghjldr"><svg id="" class="svelte-fa svelte-1cj2gr0" style="height:1em;vertical-align:-.125em;transform-origin:center;overflow:visible" viewBox="0 0 448 512" aria-hidden="true" role="img" xmlns="http://www.w3.org/2000/svg"><g transform="translate(224 256)" transform-origin="112 0"><g transform="translate(0,0) scale(1,1)"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z" fill="currentColor" transform="translate(-224 -256)"></path></g></g></svg> <span class="linkText svelte-1ghjldr">@steven-waterman</span></a></li>

			</ul></div></div></div></div>




	</body>
</html>
